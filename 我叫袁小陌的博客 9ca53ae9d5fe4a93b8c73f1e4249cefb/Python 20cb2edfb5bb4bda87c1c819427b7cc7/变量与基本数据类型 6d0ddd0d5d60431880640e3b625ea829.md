# 变量与基本数据类型

Last edited time: May 4, 2023 1:58 PM
Level: 二级标题
Owner: 我叫袁小陌
Tags: Python

1. 变量
    1. 变量的基本使用
    2. 变量的三大组成部分
    3. 变量名命名规范
    4. 变量名命名风格
    5. 变量值的三个特征
        1. id
        2. type
        3. 值
        
        ```python
        '''
        
        一、什么是变量？
        
        变量就是可以变化的量，量指的是事物的状态，比如人的年龄、性别，游戏角色的等级、金钱等等
        
        二、为什么要有变量？
        为了让计算机能够像人一样去记忆事物的某种状态，并且状态是可以发生变化的
        详细地说：
        程序执行的本质就是一系列状态的变化，变是程序执行的直接体现，所以我们需要有一种机制能够反映或者说是保存下来程
        
        三、如何用变量
        '''
        # 1、变量基本使用
        # 原则：先定义，后引用
        name = 'egon'  # 定义-》存
        print(name)  # 引用-》取
        
        age = 18
        print(age)
        
        # 2、内存管理：垃圾回收机制
        # 垃圾：当一个变量值被绑定的变量名的个数为0时，该变量值无法被访问到，称之为垃圾
        # 引用计数增加
        x = 10  # 10的引用计数为1
        y = x  # 10的引用计数为2
        z = x  # 10的引用计数为3
        
        # 引用计数减少
        del x  # 解除变量名x与值10的绑定关系，10的引用计数变为2
        # print(y)
        del y  # 10的引用计数变为1
        # print(z)
        z = 12345  # # 10的引用计数变为0
        # print(z)
        
        # 3、变量有三大组成部分
        # I：变量名=》是指向等号右侧值的内存地址的，用来访问等号右侧的值
        # II：赋值符号：将变量值的内存地址绑定给变量名
        # III：变量值：代表记录的事物的状态
        
        # 4、变量名的命名的规则
        # 原则：变量名的命名应该见名知意
        # 4.1. 变量名只能是 字母、数字或下划线的任意组合
        # 4.2. 变量名的第一个字符不能是数字
        # 4.3. 关键字不能声明为变量名，常用关键字如下
        # ['and', 'as', 'assert', 'break', 'class', 'continue', 'def', 'del', 'elif', 'else', 'except', 'exec', 'finally', 'for', 'from','global', 'if', 'import', 'in', 'is', 'lambda', 'not', 'or', 'pass', 'print', 'raise', 'return', 'try', 'while', 'with', 'yield']
        
        # ps：不要用拼音，不要用中文，在见名知意的前提下尽可能短
        # mingzi='egon'
        # 名字='egon'
        # print(名字)
        
        # 5、变量名的命名风格
        # 5.1 纯小写加下划线的方式(在python中，关于变量名的命名推荐使用这种方式)
        age_of_alex = 73
        # print(age_of_alex)
        # 5.2 驼峰体
        AgeOfAlex = 73
        # print(AgeOfAlex)
        
        # 6、变量值三个重要的特征
        # name='egon'
        # id：反映的是变量值的内存地址，内存地址不同id则不同
        print(id(name))
        #type：不同类型的值用来表示记录不同的状态
        print(type(name))
        #value：值本身
        print(name)
        ```
        
    6. is与==
        
        ```python
        # 6.2 is与==
        # is：比较左右两个值身份id是否相等
        # ==：比较左右两个值他们的值是否相等
        '''
        id不同的情况下，值有可能相同，即两块不同的内存空间里可以存相同的值
        id相同的情况下，值一定相同，x is y成立，x == y也必然成立
        >>> 
        >>> x='info：Egon：18'
        >>> y='info：Egon：18'
        >>> print(x,y)
        info：Egon：18 info：Egon：18
        >>> print(id(x),id(y))
        4565819264 4566192176
        >>> 
        >>> 
        >>> 
        >>> x == y
        True
        >>> x is y
        False
        '''
        ```
        
    7. 小整数池（了解）
        
        ```python
        # 了解：小整数池[-5,256]
        # 从python解释器启动那一刻开始，就会在内存中事先申请
        # 好一系列内存空间存放好常用的整数
        
        m=10, n=10
        id(m), id(n)
        4562619328, 4562619328
        
        res=4+6
        print(res)
        10
        id(res)
        4562619328
        
        x=-5, y=-5
        x is y
        True
        
        x=-6,y=-6
        x is y
        False
        
        x='aaa.txt'
        y='aaa.txt'
        print(id(x), id(y))
        4566200880, 4566200880
        
        x=-6
        y=-6
        print(id(x))
        print(id(y))
        print(x is y)
        ```
        
    8. 垃圾回收机制
        1. 引用计数
        2. 标记清除
        3. 分代回收
        
        ```python
        # 垃圾回收机制详解（了解）
        
        # 1、引用计数
        x = 10  # 直接引用
        print(id(x))
        y = x
        z = x
        
        l = ['a.txt', 'b', x]  # 间接引用
        print(id(l[2]))  #
        
        d = {'mmm': x}  # 间接引用
        
        print(id(d['mmm']))
        
        x=10
        l=['a.txt','b',x] # l=['a.txt'的内存地址,'b'的内存地址,10的内存地址]
        
        x=123
        print(l[2])
        
        x=10
        x=[10,]
        
        l=['a.txt','b',10]
        
        # 2、标记清除：用来解决循环引用带来的内存泄露问题
        # 循环引用=>导致内存泄露
        l1=[111,]
        l2=[222,]
        
        l1.append(l2) # l1=[值111的内存地址，l2列表的内存地址]
        l2.append(l1) # l2=[值222的内存地址，l1列表的内存地址]
        
        print(id(l1[1]))
        print(id(l2))
        
        print(id(l2[1]))
        print(id(l1))
        
        print(l2)
        print(l1[1])
        
        del l1
        del l2
        
        # 3、分代回收：用来降低引用计数的扫描频率，提升垃圾回收的效率
        ```
        
    9. 常量
        
        ```python
        # 7、常量：不变的量
        # 注意：python语法中没有常量的概念，但是在程序的开发过程中会涉及到常量的概念
        AGE_OF_ALEX = 73  # 小写字母全为大写代表常量，这只是一种约定、规范
        AGE_OF_ALEX = 74
        print(AGE_OF_ALEX)
        ```
        
2. 基本数据类型
    1. 数字类型：int、float
    2. 字符串类型
    3. 列表类型
    4. 字典
    
    ```python
    # 1、数字类型
    # 1.1 整型int
    # 作用：记录年龄、身份证号、个数等等
    # 定义：
    age = 18
    # print(type(age))
    
    # 浮点型float
    # 作用：记录薪资、身高、体重
    # 定义
    salary = 3.3
    height = 1.87
    weight = 70.3
    # print(type(height))
    
    # 数字类型的其他使用
    # level = 1
    # level=level + 1
    # print(level)
    # print(10 *3)
    
    # print(10 + 3.3) # int与float之间可以相加
    # age = 19
    # print(age > 18)
    
    # 2、字符串类型str
    # 作用：记录描述性质的状态，名字、一段话
    # 定义：用引号（''，""，''' '''，""" """，）包含的一串字符
    info = '''
    天下只有两种人。比如一串葡萄到手，一种人挑最好的先吃，
    另一种人把最好的留到最后吃。
    照例第一种人应该乐观，因为他每吃一颗都是吃剩的葡萄里最好的；
    第二种人应该悲观，因为他每吃一颗都是吃剩的葡萄里最坏的。
    不过事实却适得其反，缘故是第二种人还有希望，第一种人只有回忆。
    '''
    # print(type(info))
    # name="egon"
    # print(name)
    
    # x=18
    # print(type(x))
    # x='18' # 由数字组成的字符串，是字符串类型，不是int类型
    # print(type(x))
    
    # 'name'='egon' # 语法错误，等号左边是变量名，变量名的命名不能有引号
    
    # xxx # 代表访问变量名字
    'xxx'  # 代表的是值
    
    # x=10
    # y=x
    
    # 其他使用：
    # 字符串的嵌套，注意：外层用单引号，内存应该用双引号，反之亦然
    # print("my name is 'egon'")
    # print('my name is \'egon\'')
    
    # 字符串之间可以相加，但仅限于str与str之间进行，
    # 代表字符串的拼接，了解即可，不推荐使用，因为str之间的
    # 相加效率极低
    # print('my name is '+'egon')
    # print('='*20)
    # print('hello world')
    # print('='*20)
    
    # 3、列表：索引对应值，索引从0开始，0代表第一个
    # 作用：按位置记录多个值（同一个人的多个爱好、同一个班级的所有学校姓名、同一个人12个月的薪资），并且可以按照索引取指定位置的值
    
    # 定义：在[]内用逗号分隔开多个任意类型的值,一个值称之为一个元素
    #  0   1    2        3          4
    l = [10, 3.1, 'aaa.txt', ['bbb', 'ccc'], 'ddd']
    # print(l)
    # print(l[1])
    # print(l[2])
    # print(l[3][1])
    
    # print(l[4])
    # print(l[-1])
    
    # hobbies='read music play'
    # print(hobbies)
    # hobbies = ['read', 'music', 'play']
    # print(hobbies[1])
    
    # 其他的用途：
    # students_info=[
    #     ['tony',18,['jack',]],
    #     ['jason',18,['play','sleep']]
    # ]
    # 取出第一个学生的第一个爱好
    # print(students_info[0][2][0])
    
    # 4、
    # 索引反映的是顺序、位置，对值没有描述性的功能
    #      0      1   2     3
    info=['egon',18,'male',19]
    # print(type(info))
    # print(info[0])
    # print(info[1])
    # print(info[2])
    
    # 字典类型：key对应值，其中key通常为字符串类型，所以key对值可以有描述性的功能
    # 作用：用来存多个值，每个值都有唯一一个key与其对应，key对值有描述性功能
    # 定义：在{}内用逗号分开各多个key：value
    # d={'a.txt':1,'b':2}
    # print(type(d))
    # print(d['a.txt'])
    
    # info={
    #     "name":'egon',
    #     "age":18,
    #     "gender":'male',
    #     "salary":19
    # }
    # print(info["salary"])
    
    # 其他用途：
    # students_info=[
    #     第1个信息,
    #     第2个信息,
    #     第3个信息,
    # ]
    
    students_info=[
        {"name":'egon1','age1':19,'gender':'male'},
        {"name":'egon2','age1':19,'gender':'male'},
        {"name":'egon3','age1':19,'gender':'male'},
    ]
    
    print(students_info[1]['gender'])
    
    # 5 布尔bool
    # 6.1 作用
    # 用来记录真假这两种状态
    #
    # 6.2 定义
    # is_ok = True
    # is_ok = False
    # print(type(is_ok))
    
    # x=1
    # y=0
    
    # students=[
    #     {'name':'egon','gender':'male'},
    #     {'name':'alex','gender':'female'},
    # ]
    
    # students=[
    #     {'name':'egon','gender':True},
    #     {'name':'alex','gender':False},
    # ]
    
    students=[
        {'name':'egon','gender':1},
        {'name':'alex','gender':0},
    ]
    
    # 6.3 其他使用
    # 通常用来当作判断的条件，我们将在if判断中用到它
    
    # 总结：如何选择合适的类型来记录状态
    # 1、选取的类型是否可以明确标识事物的状态
    # 2、存不是目的，存的目的是为了日后取出来用，并且方便的用
    # 3、把自己想象成一台计算机，如果我是计算机，
    #    我会如何以何种形式把事物的状态记到脑子里
    #    然后再去python中找相应的数据类型来让计算机像自己一样去记下事物的状态
    ```
    
    ## 字符串的判断
    
    - 字符串.isalnum() 所有字符都是数字或者字母，为真返回 Ture，否则返回 False。
    - 字符串.isalpha() 所有字符都是字母，为真返回 Ture，否则返回 False。
    - 字符串.isdigit() 所有字符都是数字，为真返回 Ture，否则返回 False。
    - 字符串.islower() 所有字符都是小写，为真返回 Ture，否则返回 False。
    - 字符串.isupper() 所有字符都是大写，为真返回 Ture，否则返回 False。
    - 字符串.istitle() 所有单词都是首字母大写，为真返回 Ture，否则返回 False。
    - 字符串.isspace() 所有字符都是空白字符，为真返回 Ture，否则返回 False。
    
    ## sort()与sorted()区别
    
    - sort 是应用在 list 上的方法，属于列表的成员方法，sorted 可以对所有可迭代的对象进行排序操作。
    - list 的 sort 方法返回的是对已经存在的列表进行操作，而内建函数 **sorted 方法返回的是一个新的 list**，而不是在原来的基础上进行的操作。
    - **sorted 是返回排好序的新列表**， **sort 是对原列表进⾏修改**，使得原列表的顺序发⽣变化。
    
    **sort()和sorted()高级排序技巧（key的使用）**
    
    1. **可以使用list.sort()方法来排序，此时list本身将被修改，通常这种方法不如sorted()方便，但如果你不需要保留原来的list，这种方法更有效**
    2. **key参数/函数**
        - 通过key指定的函数来忽略字符串的大小写 key=str.lower
        - 用复杂对象的某些值来对复杂对象的序列排序
        - 拥有命名属性的复杂对象 key=lambda student: student.age
        - 当有多个条件的时候，key可以有多个参数 key=lambda x:(x[1],x[0]) [blog.csdn.net](https://blog.csdn.net/qq_40851623/article/details/119028861)
    3. **Operator 模块函数**
        - itemgetter，attrgetter，methodcaller
    4. **升序和降序** reverse（True or False）来表示升序或降序排序
    5. **排序的稳定性和复杂排序**
        - 多个元素如果有**相同的key**，则排序前后他们的**先后顺序不变**