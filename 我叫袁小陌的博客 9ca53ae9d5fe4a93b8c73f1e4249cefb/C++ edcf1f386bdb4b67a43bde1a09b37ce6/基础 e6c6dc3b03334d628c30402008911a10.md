# 基础

Last edited time: May 25, 2023 3:59 PM
Level: 二级标题
Owner: 我叫袁小陌
Tags: C++

1. 所有语句都以分号结束
2. 注释 //  /* */
3. 头文件
4. 换行符 \n   endl
5. 获取每个位置上的数，并求平方

```cpp
int GetNextNum(int n) {
        int64_t sum = 0;

        // // 整数部分
        // int64_t zs = n / 10;
        // // 余数部分
        // int64_t ys = n % 10;

        while(n > 0){
            // sum = sum + (n % 10)*(n % 10);
            // n = n / 10;
            sum += pow(n % 10, 2);
            n /= 10;
        }
        return sum;
    }
```

### 变量的初始化方式

1. 默认初始化
    
    ```cpp
    int a;         // no initializer (default initialization)
    ```
    
2. 复制初始化
    
    ```cpp
    int width = 5; // copy initialization of value 5 into variable width
    ```
    
3. 直接初始化
    1. 当值显式强制转换为另一种类型时，也使用直接初始化。
    2. 直接初始化失宠的原因之一是因为它很难区分变量和函数
    
    ```cpp
    int width(5); // direct initialization of value 5 into variable width
    
    int x();  // forward declaration of function x
    int x(0); // definition of variable x with initializer 0
    ```
    
4. 列表初始化
    1. 列表初始化还有一个额外的好处：它不允许“缩小转换范围”。这意味着，如果您尝试使用变量无法安全保存的值来大括号初始化变量，编译器将产生错误
        
        ```cpp
        int width { 5 };    // direct list initialization of value 5 into variable width
        int height = { 6 }; // copy list initialization of value 6 into variable height
        int depth {};       // value initialization (see next section)
        
        //ERROR 从“double”转换到“int”需要收缩转换
        int width { 4.5 }; // error: a number with a fractional value can't fit into an int
        ```
        
    2. **值初始化和零初始化**    当使用空大括号初始化变量列表时，将进行**值初始化**。在大多数情况下，**值初始化**会将变量初始化为零（或空，如果更适合给定类型）。在发生归零的情况下，这称为**零初始化**。
        
        ```cpp
        //何时应使用 { 0 } 与 {} 进行初始化？
        
        //如果实际使用该值，请使用显式初始化值。
        int x { 0 };    // explicit initialization to value 0
        std::cout << x; // we're using that zero value
        
        //如果值是临时值并且将被替换，请使用值初始化。
        int x {};      // value initialization
        std::cin >> x; // we're immediately replacing that value
        ```
        
    
    ### 变量的生存周期(运行时属性)
    
    1. 局部变量
        1. 局部变量在定义它的花括号集末尾（或者对于函数参数，在函数末尾）以与创建顺序相反的顺序销毁
    2. 全局变量
    
    ```cpp
    #include <iostream>
    
    int add(int x, int y) // x and y are created and enter scope here
    {
        // x and y are visible/usable within this function only
        return x + y;
    } // y and x go out of scope and are destroyed here
    
    int main()
    {
        int a{ 5 }; // a is created, initialized, and enters scope here
        int b{ 6 }; // b is created, initialized, and enters scope here
    
        // a and b are usable within this function only
        std::cout << add(a, b) << '\n'; // calls function add() with x=5 and y=6
    
        return 0;
    } // b and a go out of scope and are destroyed here
    
    /*
    执行过程
    Execution starts at the top of main.
    main variable a is created and given value 5.
    main variable b is created and given value 6.
    Function add is called with argument values 5 and 6.
    add parameters x and y are created and initialized with values 5 and 6 respectively.
    The expression x + y is evaluated to produce the value 11.
    add copies the value 11 back to caller main.
    add parameters y and x are destroyed.
    main prints 11 to the console.
    main returns 0 to the operating system.
    main variables b and a are destroyed
    */
    ```